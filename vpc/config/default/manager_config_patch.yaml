apiVersion: apps/v1
kind: Deployment
metadata:
  name: controller-manager
  namespace: system
spec:
  template:
    spec:
      containers:
      - name: manager
        args:
        - --config=controller_manager_config.yaml
        - --hbn-nvue-config=hbn_nvue_config.yaml
        - --hbn-dhcrelay-config=hbn_dhcrelay_config
        #- --zap-log-level=info
        #- --zap-stacktrace-level=panic
        volumeMounts:
        - name: manager-config
          mountPath: /controller_manager_config.yaml
          subPath: controller_manager_config.yaml
        - name: hbn-nvue-config
          mountPath: /hbn_nvue_config.yaml
          subPath: hbn_nvue_config.yaml
        - name: hbn-dhcrelay-config
          mountPath: /hbn_dhcrelay_config
          subPath: hbn_dhcrelay_config
      volumes:
      - name: manager-config
        configMap:
          name: manager-config
      - name: hbn-nvue-config
        configMap:
          name: hbn-nvue-config
      - name: hbn-dhcrelay-config
        configMap:
          name: hbn-dhcrelay-config

