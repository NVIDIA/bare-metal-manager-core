[Output]
Output=scout
CompressOutput=zstd
CompressLevel=19
Format=cpio

# Disable sandboxing in GitHub Actions CI environment
# Why: GitHub Actions managed runners enforce kernel security policies that prevent
# network namespace configuration, even with sudo. Bubblewrap (used by mkosi) fails
# with "bwrap: loopback: Failed RTM_NEWADDR: Operation not permitted" because it
# lacks CAP_NET_ADMIN capability needed to configure network interfaces in namespaces.
# This is safe in ephemeral CI environments as runners are already isolated.
Sandboxing=false

[Distribution]
Distribution=ubuntu
Release=noble
Repositories=main,restricted,universe,multiverse
PackageManagerTrees=mkosi.apt
Architecture=arm64

[Host]
ToolsTree=default

[Content]
Packages=
     apt-utils
     bind9-dnsutils
     bind9-host
     bind9-libs
     build-essential
     ca-certificates
     curl
     dbus
     debconf-i18n
     debian-archive-keyring
     dmidecode
     efibootmgr
     file
     freeipmi-tools
     ibverbs-utils
     iperf3
     ipmitool
     iputils-ping
     keyboard-configuration
     isc-dhcp-client
     libargtable2-0
     libsystemd0
     libudev-dev
     libuser
     libuser1
     linux-nvidia-64k-hwe-24.04
     lshw
     memtester
     mft
     mstflint
     nasm
     netcat-openbsd
     net-tools
     nvme-cli
     openssh-server
     pciutils
     rdma-core
     smartmontools
     mtr-tiny
     gdb
     systemd
     systemd-boot
     systemd-boot-efi
     systemd-resolved
     systemd-sysv
     systemd-timesyncd
     systemd-ukify
     tcpdump
     telnet
     tmux
     tpm2-tools
     udev
     util-linux
     containerd
     runc
     stress-ng
     wget
     sysbench
     zstd
     git
     python3.12-venv
     python3-pip
     sudo

RootPassword=password
